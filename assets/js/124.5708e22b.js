(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{537:function(t,n,r){"use strict";r.r(n);var e=r(2),p=Object(e.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("Boxx"),t._v(" "),n("p",[n("strong",[n("a",{attrs:{href:"https://www.xmzyw.cn/tag/koudaijuexing",title:"View all posts in 口袋觉醒",target:"_blank",rel:"noopener noreferrer"}},[t._v("口袋觉醒"),n("OutboundLink")],1),t._v("Ubuntu手工端+安卓+运营搭建教程【最新整理】")])]),t._v(" "),n("p",[t._v("如果非腾讯云服务器建议换apt源和pip源为腾讯源建议参考：https://zhuanlan.zhihu.com/p/366458982")]),t._v(" "),n("h3",{attrs:{id:"游戏截图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#游戏截图"}},[t._v("#")]),t._v(" 游戏截图：")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.xmzyw.cn/wp-content/uploads/2023/03/1679843073-4ed183fe0d26997.jpg",target:"_blank",rel:"noopener noreferrer"}},[n("img",{attrs:{src:"https://www.xmzyw.cn/wp-content/uploads/2023/03/1679843073-4ed183fe0d26997.jpg",alt:""}}),n("OutboundLink")],1),t._v(" "),n("a",{attrs:{href:"https://www.xmzyw.cn/wp-content/uploads/2023/03/1679843075-796faf71acefb6f.jpg",target:"_blank",rel:"noopener noreferrer"}},[n("img",{attrs:{src:"https://www.xmzyw.cn/wp-content/uploads/2023/03/1679843075-796faf71acefb6f.jpg",alt:""}}),n("OutboundLink")],1),t._v(" "),n("a",{attrs:{href:"https://www.xmzyw.cn/wp-content/uploads/2023/03/1679843080-2dbc9162b7c8d69.jpg",target:"_blank",rel:"noopener noreferrer"}},[n("img",{attrs:{src:"https://www.xmzyw.cn/wp-content/uploads/2023/03/1679843080-2dbc9162b7c8d69.jpg",alt:""}}),n("OutboundLink")],1),t._v(" "),n("a",{attrs:{href:"https://www.xmzyw.cn/wp-content/uploads/2023/03/1679843082-425b42f81a37be4.jpg",target:"_blank",rel:"noopener noreferrer"}},[n("img",{attrs:{src:"https://www.xmzyw.cn/wp-content/uploads/2023/03/1679843082-425b42f81a37be4.jpg",alt:""}}),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"搭建教程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建教程"}},[t._v("#")]),t._v(" 搭建教程：")]),t._v(" "),n("p",[t._v("推荐用腾讯服务器")]),t._v(" "),n("p",[t._v("注意该游戏只能用Ubuntu系统搭建,其他的都不行!!!")]),t._v(" "),n("p",[t._v("1.在服务器面板防火墙放行端口:1-65535")]),t._v(" "),n("p",[t._v("2. SSH连接工具:"),n("br"),t._v("\n4.连接终端后安装环境注意一行一行执行："),n("br"),t._v("\napt-key adv –keyserver hkp://keyserver.ubuntu.com:80 –recv 2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5")]),t._v(" "),n("p",[t._v("apt-key adv –keyserver hkp://keyserver.ubuntu.com:80 –recv 2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5")]),t._v(" "),n("p",[t._v("echo “deb http://repo.mongodb.org/apt/debian jessie/mongodb-org/3.6 main” | tee /etc/apt/sources.list.d/mongodb-org-3.6.list")]),t._v(" "),n("p",[t._v("5.安装宝塔（中途出现 y/n : 选项，输入y 回车）:"),n("br"),t._v("\nwget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh && sudo bash install.sh")]),t._v(" "),n("p",[t._v("6.在宝塔面板内安装以下环境："),n("br"),t._v("\nNginx1.18"),n("br"),t._v("\nmysql5.6"),n("br"),t._v("\nphp 7.1"),n("br"),t._v("\nlinux工具箱-增加虚拟内存2G")]),t._v(" "),n("p",[t._v("7.关闭Linux防火墙：sudo ufw disable")]),t._v(" "),n("p",[t._v("8.上传kdjx.tar.gz到服务器/home/ubuntu目录下：（没有ubuntu文件夹就手动创建一个）上传好后，解压kdjx.tar.gz解压命令：cd /home/ubuntu && tar -zxvf kdjx.tar.gz")]),t._v(" "),n("p",[t._v("9.安装芒果数据库：（终端内 一行行执行）")]),t._v(" "),n("p",[t._v("sudo apt-get update")]),t._v(" "),n("p",[t._v("mv /home/ubuntu/mongodb.tar.gz /")]),t._v(" "),n("p",[t._v("cd / && tar -zxvf mongodb.tar.gz")]),t._v(" "),n("p",[t._v("apt-getinstallmongodb-org=3.6.12mongodb-org-server=3.6.12mongodb-org-shell=3.6.12mongodb-org-mongos=3.6.12 mongodb-org-tools=3.6.12")]),t._v(" "),n("p",[t._v("rm -rf /usr/lib/python2.7/dist-packages/OpenSSL && rm -rf /usr/lib/python2.7/dist-packages/pyOpenSSL-0.15.1.egg-info")]),t._v(" "),n("p",[t._v("(pip install cython six lz4==0.8.2 numpy==1.16.0 xlrd xdot rpdb psutil fabric pycurl pycrypto M2Crypto==0.36.0 objgraph msgpack-python backports.ssl-match-hostname Markdown toro pymongo pyrasite pyopenssl ThinkingDataSdk==1.4.0) ←如果报错就用下面的")]),t._v(" "),n("p",[t._v("pip install cython six lz4==0.8.2 numpy==1.16.0 xlrd xdot rpdb psutil fabric==1.7.3 pycurl pycrypto M2Crypto==0.36.0 objgraph msgpack-python backports.ssl-match-hostname Markdown toro pymongo pyrasite pyopenssl ThinkingDataSdk==1.4.0")]),t._v(" "),n("p",[t._v("pip install tornado==4.4.2")]),t._v(" "),n("p",[t._v("pip install Supervisor==3.3.0")]),t._v(" "),n("p",[t._v("pip install cryptography==2.6")]),t._v(" "),n("p",[t._v("sudo mv /home/ubuntu/default /etc/nginx/sites-available")]),t._v(" "),n("p",[t._v("sudo mv /home/ubuntu/pokemon_server_test.tar.gz /mnt")]),t._v(" "),n("p",[t._v("10.重新加载nginx：nginx -s reload")]),t._v(" "),n("p",[t._v("11.给予权限："),n("br"),t._v("\nchmod 755 -R /mnt/patch")]),t._v(" "),n("p",[t._v("12.修改服务端IP：")]),t._v(" "),n("p",[t._v("以下路径文件可在宝塔面板编辑，搜索43.226.153.215替换成自己服务器IP")]),t._v(" "),n("p",[t._v("/mnt/patch/729/res/version.plist"),n("br"),t._v("\n/mnt/patch/730/res/version.plist"),n("br"),t._v("\n/mnt/patch/731/res/version.plist"),n("br"),t._v("\n/mnt/pokemon/release/login/conf/dev/serv.json"),n("br"),t._v("\n/mnt/pokemon/release/login/conf/serv.json"),n("br"),t._v("\n/mnt/pokemon/release/login/defines.json"),n("br"),t._v("\n/mnt/pokemon/release/game_defines.py"),n("br"),t._v("\n/mnt/pokemon/release/payment_defines.py")]),t._v(" "),n("p",[t._v("13.查看MD5值，文件大小值："),n("br"),t._v("\nmd5sum /mnt/patch/730/res/version.plist # 复制输出的md5码"),n("br"),t._v("\nls -l /mnt/patch/730/res/version.plist # 获取文件size大小值")]),t._v(" "),n("p",[t._v("14.修改热更文件："),n("br"),t._v("\n/mnt/pokemon/release/login/patch/cn/730.json")]),t._v(" "),n("p",[t._v("在宝塔面板找到此路径文件，编辑搜索：res/version.plist将后面的md5和size更新成上一步获取到的数值,如果不知道怎么改请看下面的图片有红色圈起来的就是要修改的地方")]),t._v(" "),n("p",[t._v("15.启动游戏服务：")]),t._v(" "),n("p",[t._v("启动游戏一行一行执行：")]),t._v(" "),n("p",[t._v("cd /mnt/pokemon/deploy_dev && rm supervisor.sock")]),t._v(" "),n("p",[t._v("supervisord -c supervisord.conf")]),t._v(" "),n("p",[t._v("supervisorctl start all")]),t._v(" "),n("p",[t._v("supervisorctl status #查看运行状态")]),t._v(" "),n("p",[t._v("第四个代码运行的时候 看看是不是全部RUNNING，如果是就代表运行成功")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.xmzyw.cn/wp-content/uploads/2023/03/1679842902-41058a3ff7ce0f7.jpg",target:"_blank",rel:"noopener noreferrer"}},[n("img",{attrs:{src:"https://www.xmzyw.cn/wp-content/uploads/2023/03/1679842902-41058a3ff7ce0f7.jpg",alt:""}}),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("关闭游戏：")]),t._v(" "),n("p",[t._v("supervisorctl reload")]),t._v(" "),n("p",[t._v("16.安卓端修改：")]),t._v(" "),n("p",[t._v("首先用压缩软件打开口袋原鱼.apk找到以下路径文件，使用MT管理器打开，搜索地址66.66.66.66替换成自己服务器IP")]),t._v(" "),n("p",[t._v("路径:\\assets\\res\\version.plist")]),t._v(" "),n("p",[t._v("然后用MT管理器签名安装")]),t._v(" "),n("p",[t._v("运营后台：http://IP:64132"),n("br"),t._v("\n账号：admin"),n("br"),t._v("\n密码：admin"),n("br"),t._v("\n邮件发送格式：{“指令”:数量}"),n("br"),t._v("\n例如："),n("br"),t._v("\n{“gold”:10} //意思是发送10个金币"),n("br"),t._v("\n{“recharge_rmb”:10} //意思是发送10个钻石")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.xmzyw.cn/wp-content/uploads/2023/03/1679842921-6bdc318b58b3786.jpg",target:"_blank",rel:"noopener noreferrer"}},[n("img",{attrs:{src:"https://www.xmzyw.cn/wp-content/uploads/2023/03/1679842921-6bdc318b58b3786.jpg",alt:""}}),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"下载地址"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#下载地址"}},[t._v("#")]),t._v(" 下载地址：")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.xmzyw.cn/13542.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("口袋觉醒Ubuntu手工端+安卓+运营搭建教程【最新整理】"),n("OutboundLink")],1)])],1)}),[],!1,null,null,null);n.default=p.exports}}]);